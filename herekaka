loadstring(game:HttpGet(("https://raw.githubusercontent.com/REDzHUB/LibraryV2/main/redzLib")))()

MakeWindow({
  Hub = {
    Title = "MODz HUB",
    Animation = "by : modez8z"
  },
  Key = {
    KeySystem = true,
    Title = "Key System",
    Description = "",
    KeyLink = "https://discord.gg/QUcrsnRpx5",
    Keys = {"Ohnopixel, PlzDaddy"},
    Notifi = {
      Notifications = true,
      CorrectKey = "Running the Script...",
      Incorrectkey = "The key is incorrect Nigga",
      CopyKeyLink = "Copied to Clipboard"
    }
  }
})

local Main = MakeTab({Name = "Home"})

local MainSection = AddSection(Main, {"Walkspeed"})
local Slider = AddSlider(Main, {
  Name = "Slider Test",
  MinValue = 10,
  MaxValue = 400,
  Default = 16,
  Increase = 1,
  Callback = function(Value)
    -- Función para cambiar la velocidad del jugador
function LocalPlayerSpeed(player, speed)
    if player and speed then
        player:setSpeed(speed)
    end
end

-- Velocidad inicial
local initialSpeed = 16

-- Velocidad máxima deseada
local MaxValue = 400

-- Obtener el jugador (asumiendo que el jugador es el primer objeto en la lista de jugadores)
local player = game:getPlayer(1)

-- Ajustar la velocidad del jugador a la velocidad máxima
setPlayerSpeed(player, MaxValue)
  end
})

AddButton(Main, {
  Name = "ESP",
  Callback = function()
    local c = workspace.CurrentCamera
local ps = game:GetService("Players")
local lp = ps.LocalPlayer
local rs = game:GetService("RunService")

local espEnabled = true
local highlightEnabled = true

local function getdistancefc(part)
    return (part.Position - c.CFrame.Position).Magnitude
end

local function esp(p, cr)
    local h = cr:WaitForChild("Humanoid")
    local hrp = cr:WaitForChild("HumanoidRootPart")

    local nameTag = Drawing.new("Text")
    nameTag.Visible = false
    nameTag.Center = true
    nameTag.Outline = true
    nameTag.Font = 2
    nameTag.Color = Color3.fromRGB(255, 255, 255)
    nameTag.Size = 15

    local distanceTag = Drawing.new("Text")
    distanceTag.Visible = false
    distanceTag.Center = true
    distanceTag.Outline = true
    distanceTag.Font = 2
    distanceTag.Color = Color3.fromRGB(255, 255, 255)
    distanceTag.Size = 15

    local c1
    local c2
    local c3

    local function dc()
        nameTag.Visible = false
        nameTag:Remove()
        distanceTag.Visible = false
        distanceTag:Remove()

        if c1 then
            c1:Disconnect()
            c1 = nil
        end
        if c2 then
            c2:Disconnect()
            c2 = nil
        end
        if c3 then
            c3:Disconnect()
            c3 = nil
        end
    end

    c2 = cr.AncestryChanged:Connect(function(_, parent)
        if not parent then
            dc()
        end
    end)

    c3 = h.HealthChanged:Connect(function(v)
        if (v <= 0) or (h:GetState() == Enum.HumanoidStateType.Dead) then
            dc()
        end
    end)

    c1 = rs.RenderStepped:Connect(function()
        if espEnabled then
            local hrp_pos, hrp_os = c:WorldToViewportPoint(hrp.Position)
            if hrp_os then
                local distance = math.floor(getdistancefc(hrp))
                
                nameTag.Position = Vector2.new(hrp_pos.X, hrp_pos.Y - 30)  
                nameTag.Text = p.Name  
                nameTag.Visible = true

                distanceTag.Position = Vector2.new(hrp_pos.X, hrp_pos.Y + 40)  
                distanceTag.Text = tostring(distance) .. " studs"  
                distanceTag.Visible = true
            else
                nameTag.Visible = false
                distanceTag.Visible = false
            end
        else
            nameTag.Visible = false
            distanceTag.Visible = false
        end
    end)
end

local function createHighlight(player)
    repeat wait() until player.Character
    if highlightEnabled and not player.Character:FindFirstChild("HumanoidRootPart"):FindFirstChild("Highlight") then
        local highlight = Instance.new("Highlight")
        highlight.Name = "Highlight"
        highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
        local highlightClone = highlight:Clone()
        highlightClone.Adornee = player.Character
        highlightClone.Parent = player.Character:FindFirstChild("HumanoidRootPart")
    end
end

local function p_added(p)
    if p.Character then
        esp(p, p.Character)
        createHighlight(p)
    end
    p.CharacterAdded:Connect(function(cr)
        esp(p, cr)
        createHighlight(p)
    end)
end

for _, p in pairs(ps:GetPlayers()) do
    if p ~= lp then
        p_added(p)
    end
end

ps.PlayerAdded:Connect(p_added)

ps.PlayerRemoving:Connect(function(playerRemoved)
    if playerRemoved.Character then
        local humanoidRootPart = playerRemoved.Character:FindFirstChild("HumanoidRootPart")
        if humanoidRootPart and humanoidRootPart:FindFirstChild("Highlight") then
            humanoidRootPart.Highlight:Destroy()
        end
    end
end)

rs.Heartbeat:Connect(function()
    for _, p in pairs(ps:GetPlayers()) do
        if p ~= lp then
            createHighlight(p)
        end
    end
end)

local screenGui = Instance.new("ScreenGui")
screenGui.Parent = lp.PlayerGui
screenGui.Name = "ControlMenu"
screenGui.Enabled = false 

local espButton = Instance.new("TextButton")
espButton.Size = UDim2.new(0, 200, 0, 50)
espButton.Position = UDim2.new(0, 10, 0, 10)
espButton.Text = "Toggle ESP"
espButton.Parent = screenGui

local highlightButton = Instance.new("TextButton")
highlightButton.Size = UDim2.new(0, 200, 0, 50)
highlightButton.Position = UDim2.new(0, 10, 0, 70)
highlightButton.Text = "Toggle Highlight"
highlightButton.Parent = screenGui

local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 200, 0, 50)
closeButton.Position = UDim2.new(0, 10, 0, 130)
closeButton.Text = "Close Menu"
closeButton.Parent = screenGui

espButton.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    espButton.Text = espEnabled and "Disable ESP" or "Enable ESP"
end)

highlightButton.MouseButton1Click:Connect(function()
    highlightEnabled = not highlightEnabled
    highlightButton.Text = highlightEnabled and "Disable Highlight" or "Enable Highlight"
    
    for _, p in pairs(ps:GetPlayers()) do
        if p.Character then
            if highlightEnabled then
                createHighlight(p)
            else
                local humanoidRootPart = p.Character:FindFirstChild("HumanoidRootPart")
                if humanoidRootPart and humanoidRootPart:FindFirstChild("Highlight") then
                    humanoidRootPart.Highlight:Destroy()
                end
            end
        end
    end
end)

closeButton.MouseButton1Click:Connect(function()
    screenGui.Enabled = false 
end)

local userInputService = game:GetService("UserInputService")

userInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end

    if input.KeyCode == Enum.KeyCode.F1 then
        screenGui.Enabled = not screenGui.Enabled 
    end
end)
  end
})
